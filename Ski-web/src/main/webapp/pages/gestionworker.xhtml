<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 


<ui:composition template="/template/template.xhtml">
	<ui:define name="mainPage">
		<div class="gradient">
			<h3>Worker Management</h3><br/> Worker List
			
			
			<h:form >
		
			<p:dataTable var="worker" value="#{workerBean.workers}">
   				 <p:column headerText="Name" filterBy="#{worker.name}" filterMatchMode="contains" >
       			 <h:outputText value="#{worker.name}" />
   				 </p:column>
 
  				  <p:column headerText="Role">
   			      <h:outputText value="#{worker.role}" />
  				  </p:column>
  				
  				 
  				  <p:column headerText="Update">
   			      <h:commandButton value="update"  action="#{workerBean.InitUpadateWorker(worker)}" >
   			      </h:commandButton>
  				  </p:column>
  				  
 				  <p:column headerText="Delete">
   			      <h:commandButton action="#{workerBean.DeleteWorker(worker)}" value="delete" />
  				  </p:column>
  				  
		</p:dataTable>
		<h:commandButton action="#{workerBean.initialiser()}" value="Add" />
		
			</h:form>
			
		<hr></hr>
		<h:form>
			<h:panelGrid columns="3">
				
						<h:outputText value="Search by Name:" />
						<h:inputText id="nameV" value="#{workerBean.name}"  validatorMessage="Name is required">
						<f:validateRequired></f:validateRequired>
						</h:inputText>
						<br></br>
						<h:commandButton  action="#{workerBean.findbyName()}" value="Search" />
						<h:commandButton  action="#{workerBean.cancelSearch()}" value="Cancel" />
			</h:panelGrid>
		</h:form>
		<hr></hr>	
			
			<h:form rendered="#{workerBean.visible}">
			
			<h:panelGrid columns="3">
			
					<h:outputText value="Name:" />
					<h:inputText id="nameV" value="#{workerBean.newWorker.name}"  validatorMessage="Name is required">
					<f:validateRequired></f:validateRequired>
					</h:inputText>
				    <h:message  for="nameV" style="color:red" />
					
					
					
					<h:outputText value="Role:" />
					<h:inputText id="roleV" value="#{workerBean.newWorker.role}" validatorMessage="Role is required" >
					<f:validateRequired></f:validateRequired>
					</h:inputText>
					<h:message  for="roleV" style="color:red" />
	
					
					
					<h:commandButton  rendered="#{workerBean.add}" action="#{workerBean.AddWorker()}" value="Add" />
					<h:commandButton  rendered="#{workerBean.update}" action="#{workerBean.updateWorker()}" value="Update" />
			</h:panelGrid>
			
			</h:form>
			<br />
			<br />
			
			
			
		</div>
	</ui:define>
</ui:composition>
</html>
