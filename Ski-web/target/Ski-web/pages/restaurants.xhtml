<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 


<ui:composition template="/template/template.xhtml">
	<ui:define name="mainPage">
		<div class="gradient">
			<h3>Restaurant Management</h3><br/> Restaurant List
			
			
			<h:form >
		
			<p:dataTable var="resto" value="#{restaurantBean.restos}">
   				 <p:column headerText="Name">
       			 <h:outputText value="#{resto.name}" />
   				 </p:column>
 
  				  <p:column headerText="Location">
   			      <h:outputText value="#{resto.location}" />
  				  </p:column>
 
  				  <p:column headerText="Description">
   			      <h:outputText value="#{resto.description}" />
  				  </p:column>
  				  
  				  <p:column headerText="Stars Number">
   			      <h:outputText value="#{resto.nbstars}" />
  				  </p:column>
  				  
  				  <p:column headerText="Tables Number">
   			      <h:outputText value="#{resto.nbtables}" />
  				  </p:column>
  				  
  				  <p:column headerText="Update">
   			      <h:commandButton value="update"  action="#{restaurantBean.InitUpadateResto(resto)}" >
   			      </h:commandButton>
  				  </p:column>
  				  
 				  <p:column headerText="Delete">
   			      <h:commandButton action="#{restaurantBean.DeleteResto(resto)}" value="delete" />
  				  </p:column>
  				  
		</p:dataTable>
		<h:commandButton action="#{restaurantBean.initialiser()}" value="Add" />
		
			</h:form>
			
		<hr></hr>
		<h:form>
			<h:panelGrid columns="3">
				
						<h:outputText value="Search by Name:" />
						<h:inputText id="nameV" value="#{restaurantBean.name}"  validatorMessage="Name is required">
						<f:validateRequired></f:validateRequired>
						</h:inputText>
						<br></br>
						<h:commandButton  action="#{restaurantBean.findbyName()}" value="Search" />
						<h:commandButton  action="#{restaurantBean.cancelSearch()}" value="Cancel" />
			</h:panelGrid>
		</h:form>
		<hr></hr>	
			
			<h:form rendered="#{restaurantBean.visible}">
			
			<h:panelGrid columns="3">
			
					<h:outputText value="Name:" />
					<h:inputText id="nameV" value="#{restaurantBean.newResto.name}"  validatorMessage="Name is required">
					<f:validateRequired></f:validateRequired>
					</h:inputText>
				    <h:message  for="nameV" style="color:red" />
					
					<h:outputText value="Location:" />
					<h:inputText  id="locV" value="#{restaurantBean.newResto.location}" validatorMessage="Location is required" >
					<f:validateRequired></f:validateRequired>
					</h:inputText>
					<h:message  for="locV" style="color:red" />
					
					<h:outputText value="Description:" />
					<h:inputText id="descV" value="#{restaurantBean.newResto.description}" validatorMessage="Description is required" >
					<f:validateRequired></f:validateRequired>
					</h:inputText>
					<h:message  for="descV" style="color:red" />
				
					<h:outputText value="Stars Number" />
					<h:inputText id="starsV" value="#{restaurantBean.newResto.nbstars}" >
					</h:inputText>
					<h:message  for="starsV" style="color:red" />
					
					
					<h:outputText value="Tables Number" />
					<h:inputText id="tablesV" value="#{restaurantBean.newResto.nbtables}" >
					</h:inputText>
					<h:message  for="tablesV" style="color:red" />
					  <li><h:link value="Stat"  outcome="/pages/StatRestaurant" ></h:link></li>
					
					<h:commandButton  rendered="#{restaurantBean.add}" action="#{restaurantBean.AddResto()}" value="Add" />
					<h:commandButton  rendered="#{restaurantBean.update}" action="#{restaurantBean.updateResto()}" value="Update" />
			    
			</h:panelGrid>
			
			</h:form>
			<br />
			<br />
			
			
			
		</div>
	</ui:define>
</ui:composition>
</html>
